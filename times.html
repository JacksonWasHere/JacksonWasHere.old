<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Times Tables</title>
    <script type="text/javascript" src="p5.js"></script>
    <script type="text/javascript" src="p5.dom.js"></script>
  </head>
  <body>
    <script type="text/javascript">
var ppoints=[]
var totalPoints = 100
var multiplier=0.5
var slider
var runningT=false
function ppoint(pp){
  this.x=pp.x
  this.y=pp.y
}
function setup() {
  createCanvas(600,600)
  background(200)
  frameRate(3)
  slider=createSlider(0, 3, 0.5,0.1);
  slider.input(test1)
  drawStuff()
  drawStuff()
}
function test1() {
  multiplier=slider.value()
  drawStuff()
  console.log(slider.value());
}
function draw() {
  if(runningT){
    multiplier+=0.1
    drawStuff()
    console.log(multiplier);
  }
}
function drawStuff() {
  background(200)
  for (var i = 1; i <= totalPoints  ; i++) {
      ppoints.push(drawPoint(290, i, totalPoints))
  }
  for (var i = 0; i < ppoints.length; i++) {
    var cur=ppoints[i]
    var nex=ppoints[floor(i*multiplier%ppoints.length)]
    line(cur.x+287.5,cur.y+287.5,nex.x+287.5,nex.y+287.5)
  }
}
function drawPoint(r, currentPoint, totalPoints) {

  var theta = ((Math.PI*2) / totalPoints);
  var angle = (theta * currentPoint);

  var x = (r * Math.cos(angle));
  var y = (r * Math.sin(angle));
  fill(0)
  //rect(x+287.5,y+287.5,5,5)
  return {x,y}
}
    </script>
  </body>
</html>
