<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Langtons ant</title>
    <script type="text/javascript" src="p5.js"></script>
  </head>
  <body>
    <script type="text/javascript">
var grid=[]
var cellSize=5
var antX=300/cellSize
var antY=300/cellSize
var vector=[0,1,0]
var colors=[[0,0,255],[0,255,0],[255,0,0]]
function setup() {
  noStroke()
  createCanvas(600,600)
  for (var i = 0; i < floor(width/cellSize); i++) {
    grid[i]=[]
    for (var j = 0; j < floor(height/cellSize); j++) {
      grid[i][j]=0
    }
  }
  background(0)
}
function draw() {
  for (var i = 0; i < 10; i++) {
    // if(antX<width && antX>=0)
    step()
  }
}
function step() {
  var a=vector[2]
  var curGrid=grid[antX][antY]
  var add=(a+90)%360
  var sub=abs(a-90==-90?270:a-90)%360
  if (curGrid==0) {
    vector[2]=sub
    grid[antX][antY]+=1
  } else if(curGrid==1) {
    vector[2]=sub
    grid[antX][antY]+=1
  } else {
    vector[2]=add
    grid[antX][antY]-=1
  }
  a=vector[2]
  vector[0]=-abs((a-90)/90)+1
  vector[1]=abs((a-180)/90)-1
  antX-=vector[0]
  antY-=vector[1]
  var curCol=colors[curGrid]
  fill(curCol[0],curCol[1],curCol[2])
  rect(antX*cellSize,antY*cellSize,cellSize,cellSize)
}
    </script>
  </body>
</html>
